(this.webpackJsonpfocus_pocus_demo=this.webpackJsonpfocus_pocus_demo||[]).push([[0],{367:function(e,t){function c(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}c.keys=function(){return[]},c.resolve=c,e.exports=c,c.id=367},369:function(e,t,c){"use strict";c.r(t);var n=c(9),a=c(1),s=c.n(a),i=c(38),l=c.n(i),r=c(11),o=(c(163),c(164),c(151)),d=c.n(o),b=c(185),j=c(186),u=c(65),h=c(125),p={ch0:{name:"A7",data:[]},ch1:{name:"A8",data:[]},ch2:{name:"T9",data:[]},ch3:{name:"T10",data:[]}},O={ch0:{name:"A7",data:[]},ch1:{name:"A8",data:[]},ch2:{name:"T9",data:[]},ch3:{name:"T10",data:[]}},x={scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Time"},ticks:{display:!1},gridLines:{display:!1}}],yAxes:[{scaleLabel:{display:!0,labelString:"Electrical Activity"},ticks:{display:!1,max:300,min:-300},gridLines:{display:!1}}]},elements:{line:{borderColor:"rgba( 128 , 128, 128)",fill:!1},point:{radius:0}},animation:{duration:0},title:{display:!0,text:""},responsive:!0,tooltips:{enabled:!1},legend:{display:!1}},m={scales:{xAxes:[{scaleLabel:{display:!1,labelString:"Beta"},ticks:{display:!1},gridLines:{display:!1}}],yAxes:[{scaleLabel:{display:!1,labelString:"Time"},ticks:{display:!1,max:10,min:0},gridLines:{display:!0}}]},elements:{line:{borderColor:"rgba( 128 , 128, 128)",fill:!1},point:{radius:0}},animation:{duration:0},title:{display:!0,text:""},responsive:!0,tooltips:{enabled:!1},legend:{display:!1}},f={scales:{xAxes:[{scaleLabel:{display:!1,labelString:"Time"},gridLines:{display:!1}}],yAxes:[{scaleLabel:{display:!1,labelString:"Electrical Activity"},ticks:{display:!1,max:10,min:0},gridLines:{display:!1}}]},animation:{duration:0},title:{display:!0,text:""},responsive:!0,tooltips:{enabled:!1},legend:{display:!1}},g=c(116),y=c(27),v=c(180),k=c(12),L=c(64),A=c(86),S=A.interval,C=A.from,N=c(66),w=N.map,T=N.flatMap,E=function(e){var t=Date.now();return C([0,1,2,3]).pipe(w((function(c){return{timestamp:t,electrode:c,index:e,samples:Array(12).fill().map((function(e){return Math.random()})).map((function(e){return 100*e}))}})))};var B=function(){var e=null,t=null,c=Array.from(Array(512).keys()),s=Object(a.useState)(p),i=Object(u.a)(s,2),l=i[0],o=i[1],A=Object(a.useState)(O),C=Object(u.a)(A,2),N=C[0],B=C[1],F=Object(a.useState)([]),M=Object(u.a)(F,2),_=M[0],D=M[1],z=Object(a.useState)(!1),R=Object(u.a)(z,2),U=R[0],q=R[1],J=Object(a.useState)(!1),I=Object(u.a)(J,2),P=I[0],G=I[1],H=Object(a.useState)(0),K=Object(u.a)(H,2),Q=K[0],V=K[1],W=2,X=50,Y=256,Z=4,$=2,ee=512;function te(){(t=Object(g.zipSamples)(e).pipe(Object(y.a)((function(){return new k.a})))).pipe(Object(L.bandpassFilter)({cutoffFrequencies:[W,X],nbChannels:Z}),Object(L.epoch)({interval:$,duration:ee,samplingRate:Y}),Object(v.a)((function(e){console.log(e)}))).subscribe((function(e){o((function(t){return Object.values(t).forEach((function(t,c){t.data=e.data[c]})),{ch0:t.ch0,ch1:t.ch1,ch2:t.ch2,ch3:t.ch3}}))}))}function ce(){if(!t)return"Error";t.pipe(Object(L.bandpassFilter)({cutoffFrequencies:[W,X],nbChannels:Z}),Object(L.epoch)({interval:100,duration:1024,samplingRate:Y}),Object(L.fft)({bins:256}),Object(L.powerByBand)(),Object(v.a)((function(e){console.log(e)}))).subscribe((function(e){B((function(t){return Object.values(t).forEach((function(t,c){t.data=[e.alpha[c],e.beta[c]]})),{ch0:t.ch0,ch1:t.ch1,ch2:t.ch2,ch3:t.ch3}})),D((function(t){return[].concat(Object(j.a)(t),[e.beta[0]])}))}))}function ne(){return(ne=Object(b.a)(d.a.mark((function c(){var n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=new g.MuseClient,c.next=3,n.connect();case 3:return c.next=5,n.start();case 5:e=n.eegReadings,te(),ce(),t.connect(),q(!0);case 10:case"end":return c.stop()}}),c)})))).apply(this,arguments)}function ae(e){return Object(n.jsx)(r.g,{children:(t=e.vals,Object.values(t).map((function(e,t){return t===Q?Object(n.jsx)(r.f,{className:"mb-4",children:Object(n.jsx)(r.c,{children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.e,{children:e.name}),Object(n.jsx)(h.Line,{data:{xLabels:c,datasets:[{data:e.data}]},options:x})]})},t)}):null})))});var t}function se(e){return Object(n.jsx)(r.g,{children:(t=e.vals,Object.values(t).map((function(e,t){return t===Q?(console.log(e.data),Object(n.jsx)(r.f,{className:"mb-4",children:Object(n.jsx)(r.c,{children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.e,{children:e.name}),Object(n.jsx)(h.Bar,{data:{xLabels:["Beta","Alpha"],datasets:[{data:e.data,backgroundColor:["rgba(255, 0, 0, 0.9)","rgba(0, 0, 255, 0.9)"]}]},options:f})]})},t)})):null})))});var t}return Object(n.jsxs)(r.g,{children:[Object(n.jsxs)(r.l,{children:[Object(n.jsx)(r.f,{lg:"8",className:"col-lg mb-4",children:Object(n.jsxs)(r.b,{size:"lg",children:[Object(n.jsx)(r.a,{disabled:U,onClick:function(){return ne.apply(this,arguments)},children:"Muse Connect"}),Object(n.jsx)(r.a,{disabled:U,onClick:function(){e=function(e){var t=0;return S(1e3/e).pipe(w((function(){return t+=1})),T(E))}(256),te(),ce(),t.connect(),q(!0)},children:"Simulate Data"}),Object(n.jsx)(r.a,{disabled:!U,onClick:function(){window.location.reload()},children:"Disconnect"})]})}),Object(n.jsx)(r.f,{lg:"4",className:"col-lg mb-4",children:Object(n.jsxs)(r.h,{size:"lg",open:P,toggle:function(){return G((function(e){return!e}))},children:[Object(n.jsx)(r.k,{children:"Channel"}),Object(n.jsx)(r.j,{children:Object.values(l).map((function(e,t){return Object(n.jsx)(r.i,{onClick:function(){return V(t)},children:e.name},t)}))})]})})]}),Object(n.jsxs)(r.l,{children:[Object(n.jsx)(r.f,{className:"col-lg mb-4",children:Object(n.jsx)(r.l,{children:Object(n.jsx)(ae,{vals:l})})}),Object(n.jsx)(r.f,{className:"col-lg mb-4",children:Object(n.jsx)(r.l,{children:Object(n.jsx)(se,{vals:N})})})]}),Object(n.jsxs)(r.l,{children:[Object(n.jsx)(r.f,{className:"col-lg mb-4",children:Object(n.jsx)(r.c,{children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.e,{children:"Focus"}),Object(n.jsx)(h.Line,{data:{xLabels:Array.from(_.keys()),datasets:[{data:_}]},options:m})]})})}),Object(n.jsx)(r.f,{className:"col-lg mb-4"})]})]})};var F=function(){return Object(n.jsxs)(r.g,{style:{marginTop:"5px"},children:[Object(n.jsx)(r.l,{className:"mb-4",children:Object(n.jsx)(r.f,{className:"col-lg",children:Object(n.jsx)(r.c,{children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.e,{children:"Focus Pocus"}),Object(n.jsx)("p",{children:"The UC Berkeley Neurotechx Submission"})]})})})}),Object(n.jsx)(B,{})]})};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root"))}},[[369,1,2]]]);
//# sourceMappingURL=main.1c6b119c.chunk.js.map